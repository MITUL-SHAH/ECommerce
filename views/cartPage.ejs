<!DOCTYPE html>
<html>
<head>
    <meta charset="ISO-8859-1">
    <title>Cart</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.25/css/dataTables.bootstrap5.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
    
<body align="center">
    <br> <br>
    <h1 class="text-primary text-center mx-auto">Cart</h1>

    <form action="#" method="post" name="login">

        <table class="table table-bordered">
            <thead>
                <tr class="table-primary">
                    <th class="w-25 text-center">Item Name</th>
                    <th class="w-25 text-center">Quantity (qty)</th>
                    <th class="w-25 text-center">Cost</th>
                    <th class="w-25 text-center">Actions</th>
                </tr>
            </thead>
            <tbody id="dynamicTable">
                <!-- Table rows will be added here -->
            </tbody>
        </table>
        
        <div class="col-md-3 text-center mx-auto">
            <button type="button" class="btn btn-danger align-self-center" id="removeAll">Flush Cart</button>
            <button type="submit" class="btn btn-primary align-self-center" value="submit">CheckOut</button>
        </div>
    </form>
    <br> <br>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const dynamicTable = document.getElementById('dynamicTable');
            const addRowButton = document.getElementById('addRow');
            let rowCounter = 0;

            // Populate table rows from an array
            const itemsArray = [
                { item: 'item1', qty: 2, cost: 10 },
                { item: 'item2', qty: 1, cost: 5 },
                // Add more items as needed
            ];

            for (const itemData of itemsArray) {
                rowCounter++;
                const newRow = document.createElement('tr');
                newRow.innerHTML = `
                    <td class="w-25">
                        <label for="item${rowCounter}">${itemData.item}</label>
                    </td>
                    <td class="w-25">
                        <input type="number" class="form-control" name="qty${rowCounter}" value="${itemData.qty}">
                    </td>
                    <td class="w-25 text-center">
                        <label for="item${rowCounter}">${itemData.cost}</label>
                    </td>
                    <td class="w-25">
                        <button type="button" style="width: 100%" class="btn btn-danger btn-block" onclick="removeRow(this)">Remove Item</button>
                    </td>
                `;
                dynamicTable.appendChild(newRow);
            }
        });

        document.getElementById('removeAll').addEventListener('click', () => {
            // Remove all rows from the table
            const dynamicTable = document.getElementById('dynamicTable');
            dynamicTable.innerHTML = '';
        });

        function removeRow(button) {
            // Get the parent row and remove it
            const row = button.parentElement.parentElement;
            row.remove();
        }
    </script>

</body>
</html>
